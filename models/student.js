const mongoose = require('mongoose');

const Schema = mongoose.Schema,
    model = mongoose.model.bind(mongoose),
    ObjectId = mongoose.Schema.Types.ObjectId;

const studentSchema = new Schema({
    createdAt: { type: Date, default: new Date() },
    active: { type: Boolean, default: true },
    img: {
        type: String,
        default: 'data:image/png;base64,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'
    },
    name: String,
    email: { type: String, unique: true },
    phone: String,
    hash: String,
    company: { type: ObjectId, ref: 'Company' },
    slots: [{ type: ObjectId, ref: 'Slot' }]
});

const Student = model('Student', studentSchema);

module.exports = Student;